#pragma checksum "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "8cb1391375d3def6b441443c5b61ee89e435e6c7"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_LK_PartialMyProfile), @"mvc.1.0.view", @"/Views/LK/PartialMyProfile.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\_ViewImports.cshtml"
using ArtRoyalDetailing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\_ViewImports.cshtml"
using ArtRoyalDetailing.Domain.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
using System.Security.Claims;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"8cb1391375d3def6b441443c5b61ee89e435e6c7", @"/Views/LK/PartialMyProfile.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"97f27d8e858e53a6fde28bcc2e81f4974a845338", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_LK_PartialMyProfile : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Users>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<div class=""defaultContainer"">
    <table class=""table table-borderless"">
        <tbody>
            <tr>
                <td class=""col-1"">Имя</td>
                <td class=""col-4"" style=""min-width:200px;""><input type=""text"" class=""inputSelectBox"" id=""usernamee""");
            BeginWriteAttribute("value", " value=\"", 322, "\"", 345, 1);
#nullable restore
#line 10 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
WriteAttributeValue("", 330, Model.UserName, 330, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Введите имя\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Фамилия</td>\r\n                <td><input type=\"text\" class=\"inputSelectBox\"");
            BeginWriteAttribute("value", " value=\"", 514, "\"", 540, 1);
#nullable restore
#line 14 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
WriteAttributeValue("", 522, Model.UserSurname, 522, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"usersurname\" placeholder=\"Введите фамилию\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Номер телефона</td>\r\n                <td><input type=\"text\" class=\"inputSelectBox tel\" onfocus=\"maskValid(this)\"");
            BeginWriteAttribute("value", " value=\"", 767, "\"", 797, 1);
#nullable restore
#line 18 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
WriteAttributeValue("", 775, Model.UserPhonenumber, 775, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"userphone\" placeholder=\"Введите номер телефона\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Роль</td>\r\n                <td><input type=\"text\" class=\"inputSelectBox\" disabled");
            BeginWriteAttribute("value", " value=\"", 998, "\"", 1040, 1);
#nullable restore
#line 22 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
WriteAttributeValue("", 1006, Model.UserRoleNavigation.RoleName, 1006, 34, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Логин</td>\r\n                <td><input type=\"text\" class=\"inputSelectBox\"");
            BeginWriteAttribute("value", " value=\"", 1181, "\"", 1205, 1);
#nullable restore
#line 26 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
WriteAttributeValue("", 1189, Model.UserLogin, 1189, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"userlogin\" placeholder=\"Введите логин\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Cменить пароль</td>\r\n                <td><input type=\"text\" class=\"inputSelectBox\"");
            BeginWriteAttribute("value", " value=\"", 1398, "\"", 1406, 0);
            EndWriteAttribute();
            WriteLiteral(" id=\"userpassword\" placeholder=\"Введите новый пароль\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Электронная почта</td>\r\n                <td><input type=\"text\" class=\"inputSelectBox\" placeholder=\"Введите почту\" id=\"useremail\"");
            BeginWriteAttribute("value", " value=\"", 1655, "\"", 1679, 1);
#nullable restore
#line 34 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
WriteAttributeValue("", 1663, Model.UserEmail, 1663, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" /></td>
            </tr>
        </tbody>
    </table>
    <button id=""btn"" onclick=""saveChanges()"">Сохранить изменения</button>
</div>
<script>
    saveChanges = () => {
        let userName = document.querySelector(""#usernamee"").value
        let userSurname = document.querySelector(""#usersurname"").value
        let userEmail = document.querySelector(""#useremail"").value
        let userPhone = document.querySelector(""#userphone"").value
        let userPassword = document.querySelector(""#userpassword"").value
        let userLogin = document.querySelector(""#userlogin"").value
        if (userEmail == """" || userName == """" || userPhone == """" || userSurname == """" || userLogin == """") {
            createAlert(""Ошибка"", ""Некоторые поля пустые"", ""error"")
            return;
        }
        if (userPhone.length != 17) {
            createAlert(""Ошибка"", ""Некорректный номер телефона"", ""error"")
            return;
        }
        var model = {
            Id:");
#nullable restore
#line 57 "C:\Users\bykov\Desktop\diplom\diplom\ArtRoyalDetailing\Views\LK\PartialMyProfile.cshtml"
          Write(User.FindFirst(ClaimTypes.NameIdentifier).Value);

#line default
#line hidden
#nullable disable
            WriteLiteral(@",
            Name: userName,
            Surname: userSurname,
            Phone: userPhone,
            Login: userLogin,
            Password: userPassword,
            Email: userEmail
        }
        $.ajax({
            url: '/LK/EditMyProfile',
            type: ""POST"",
            contentType: 'application/x-www-form-urlencoded; charset=utf-8',
            data: model,
            async: true,
            processData: true,
            cache: false,
            success: function (data) {
                if (data.data==true)
                    createAlert('Успешно',data.description, 'success')
                if (data.data==false) {
                    createAlert('Ошибка', data.description, 'error')
                }
            },
            error: function (xhr) {
                createAlert('Ошибка', ""Ошибка сервера"", 'error')
            }
        });
    }
    maskValid = (input) => {
        var keyCode;
        function mask(event) {
            event.keyCode ");
            WriteLiteral(@"&& (keyCode = event.keyCode);
            var pos = this.selectionStart;
            if (pos < 3) event.preventDefault();
            var matrix = ""+7 (___) ___-____"",
                i = 0,
                def = matrix.replace(/\D/g, """"),
                val = this.value.replace(/\D/g, """"),
                new_value = matrix.replace(/[_\d]/g, function (a) {
                    return i < val.length ? val.charAt(i++) || def.charAt(i) : a
                });
            i = new_value.indexOf(""_"");
            if (i != -1) {
                i < 5 && (i = 3);
                new_value = new_value.slice(0, i)
            }
            var reg = matrix.substr(0, this.value.length).replace(/_+/g,
                function (a) {
                    return ""\\d{1,"" + a.length + ""}""
                }).replace(/[+()]/g, ""\\$&"");
            reg = new RegExp(""^"" + reg + ""$"");
            if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) this.value = new_value;
      ");
            WriteLiteral(@"      if (event.type == ""blur"" && this.value.length < 5) this.value = """"
        }

        input.addEventListener(""input"", mask, false);
        input.addEventListener(""focus"", mask, false);
        input.addEventListener(""blur"", mask, false);
        input.addEventListener(""keydown"", mask, false)

    }
</script>
");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Users> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
